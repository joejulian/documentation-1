---
title: Configuring Redpanda SASL on Kubernetes
---

<head>
    <meta name="title" content="Configuring Redpanda SASL on Kubernetes | Redpanda Docs"/>
    <meta name="description" content="Configuring Redpanda SASL on Kubernetes."/>
</head>

Redpanda supports the SASL/SCRAM authentication method for the Kafka API. The Redpanda Helm chart lets you configure SASL authentication.

For general security information, see [Redpanda Security on Kubernetes](/../../security/security-kubernetes).

## Step 1: Enable SASL

Create a YAML file containing the values to override from the defaults:

_**sasl_enable.yaml**_

```yaml
auth:
  sasl:
    enabled: true
    users:
      - name: admin
        password: changeme
```

:::note
In this YAML document, `users` is a list of superusers.
:::

During install or upgrade, enable SASL configuration:

```bash
helm upgrade --install redpanda redpanda/redpanda -n redpanda --create-namespace \
  --values sasl_enable.yaml
```

## Step 2: Create users

Create users (not superusers) and set the passwords for the new users. By default, these users don't have any permissions on the cluster.

:::tip
As a security best practice, you don't want to use the superuser to run commands on the cluster. You can use these additional users to interact with the cluster.
:::

For each user that you want to create, run:

```bash
kubectl exec -n redpanda -c redpanda redpanda-0 -- \
  rpk acl user create myuser -p changethispassword
```

## Step 3: Grant permissions

The superuser can grant permissions to additional users through access control lists (ACLs). For details on how ACLs function in Redpanda, see the [rpk acl](/docs/reference/rpk/rpk-acl/) documentation.

1. Use the superuser to grant `create` and `describe` permissions to another user for the cluster. Edit the `rpk acl create` command to grant permissions to specific users or groups:

```bash
kubectl exec -n redpanda -c redpanda redpanda-0 -- \
  rpk acl create --allow-principal User:myuser \
  --operation create,describe \
  --cluster \
  --user admin --password changeme --sasl-mechanism SCRAM-SHA-256
```

2. Optionally, you can use the superuser to grant permissions to the new user for a topic. The following command grants `describe` privileges to a topic. Note that if a user has `describe` privileges on a cluster, they do not automatically have `describe` privileges on topics.

```bash
kubectl exec -n redpanda -c redpanda redpanda-0 -- \
  rpk acl create --allow-principal User:myuser \
  --operation describe \
  --topic myfirsttopic \
  --user admin --password changeme --sasl-mechanism SCRAM-SHA-256
```

## Step 4: Use `rpk` to interact with Redpanda

Now you can connect to Redpanda with the additional (non-superuser) user and start working with the cluster.

To create a topic:

```bash
kubectl exec -n redpanda -c redpanda redpanda-0 -- \
  rpk topic create myfirsttopic \
  --user myuser --password changethispassword --sasl-mechanism SCRAM-SHA-256
```

To describe the topic:

```bash
kubectl exec -n redpanda -c redpanda <cluster_name>-0 -- \
  rpk topic describe myfirsttopic \
  --user myuser --password changethispassword --sasl-mechanism SCRAM-SHA-256
```
